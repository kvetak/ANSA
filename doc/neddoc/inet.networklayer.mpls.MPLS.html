<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <link rel="stylesheet" type="text/css" href="style.css" />
   </head>
   <body onload="if (top.frames['componentsframe'] == undefined) { s = window.location.toString(); window.location = 'index.html?p=' + s.substring(s.lastIndexOf('/')+1); }">
<h2 class="comptitle">Simple Module <i>MPLS</i></h2>
<b>Package:</b> inet.networklayer.mpls<br/><b>File: <a href="src-networklayer-mpls-MPLS.ned.html">src/networklayer/mpls/MPLS.ned</a></b><br/><p><a href="../doxy/class_m_p_l_s.html" target="mainframe"><b>C++ definition</b></a></p>

<p>Implements the MPLS protocol.</p>
<p><a href="inet.networklayer.mpls.MPLS.html">MPLS</a> module is added between layer 2 and 3 in the OSI model for fast packet
switching. <a href="inet.networklayer.mpls.MPLS.html">MPLS</a> should be transparent to signalling protocols. Signalling
protocol currently implemented in this simulation is RSVP-TE.</p>
<p>Operations</p>
<p><a href="inet.networklayer.mpls.MPLS.html">MPLS</a> packets are represented by the message class MPLSPacket.
The local LIB (Label Information Base) is stored in a <a href="inet.networklayer.mpls.LIBTable.html">LIBTable</a> module
in the LSR.</p>
<p>For most of the time, the <a href="inet.networklayer.mpls.MPLS.html">MPLS</a> module will do the label swapping and
message forwarding. Upon receiving a labelled packet from another LSR, the
<a href="inet.networklayer.mpls.MPLS.html">MPLS</a> first extract the incoming interface and incoming label pair, and then
look up the local LIB table. If an outgoing label and an outgoing interface
can be found, the module will perform appropriate label operations (PUSH,
POP, SWAP) based on the "outLabel" vector containing label and operation
pairs.</p>
<p>Collaborations</p>
<p><a href="inet.networklayer.mpls.MPLS.html">MPLS</a> module is required to interact with L2 (<a href="Link.html">Link</a> Layer) and L3 (Network
Layer) in the OSI model. In addition, it needs to obtain label information
from the LIB component and label query result from the <a href="inet.networklayer.ldp.LDP.html">LDP</a> module. Messages
the model communicates with L2 and Network Layers are L2 packets (<a href="inet.linklayer.ppp.PPP.html">PPP</a>,
Frame Relay, ATM, Ethernet, etc.), and IP native packets. Specifically,
<a href="inet.networklayer.mpls.MPLS.html">MPLS</a> module encapsulates IP packet and is encapsulated in L2 packet.
Different L2 protocols may require different methods of encapsulation to
inherit the L2's QoS. This implementation follows a generic approach; it
assumes no information of QoS from the link layer.</p>
<img src="inet.networklayer.mpls.MPLS-type.png" ismap="yes" usemap="#type-diagram"/><map name="type-diagram">
<area shape="rect" href="inet.networklayer.mpls.MPLS.html" title="MPLS" alt="MPLS" coords="0,31,79,71">
</map>
<h3 class="subtitle">Usage diagram:</h3>
<p>The following diagram shows usage relationships between types.
Unresolved types are missing from the diagram.</p>
<img src="inet.networklayer.mpls.MPLS-usage.png" ismap="yes" usemap="#usage-diagram"/><map name="usage-diagram"><area shape="rect" id="node1" href="inet.networklayer.mpls.MPLS.html" title="Simple Module MPLS" alt="" coords="64,83,136,111">
<area shape="rect" id="node2" href="inet.nodes.mpls.LDP_LSR.html" title="Compound Module LDP_LSR" alt="" coords="5,6,85,34">
<area shape="rect" id="node4" href="inet.nodes.mpls.RSVP_LSR.html" title="Compound Module RSVP_LSR" alt="" coords="109,6,200,34">
</map>
<h3 class="subtitle">Inheritance diagram:</h3>
<p>The following diagram shows inheritance relationships for this type.
Unresolved types are missing from the diagram.</p>
<img src="inet.networklayer.mpls.MPLS-inheritance.png" ismap="yes" usemap="#inheritance-diagram"/><map name="inheritance-diagram"><area shape="rect" id="node1" href="inet.networklayer.mpls.MPLS.html" title="Simple Module MPLS" alt="" coords="5,6,77,34">
</map>
<h3 class="subtitle">Used in compound modules:</h3>
<table class="typestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="description">Description</th>
   </tr>
<tr>
   <td>
<a href="inet.nodes.mpls.LDP_LSR.html">LDP_LSR</a>
   </td>
   <td>
<i>compound&nbsp;module</i>
   </td>
   <td>

<p>An <a href="inet.networklayer.ldp.LDP.html">LDP</a>-capable router.</p>

   </td>
</tr>
<tr>
   <td>
<a href="inet.nodes.mpls.RSVP_LSR.html">RSVP_LSR</a>
   </td>
   <td>
<i>compound&nbsp;module</i>
   </td>
   <td>

<p>An RSVP-TE capable router.</p>

   </td>
</tr>
</table>
<h3 class="subtitle">Parameters:</h3>
<table class="paramstable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="defaultvalue">Default value</th>
      <th class="description">Description</th>
   </tr>
<tr class="local">
   <td>classifier</td>
   <td>
      <i>string</i>
   </td>
   <td></td>
   <td>
<p>a module which implements the IClassifier C++ interface</p>
   </td>
</tr>
</table>
<h3 class="subtitle">Properties:</h3>
<table class="propertiestable">
   <tr>
      <th class="name">Name</th>
      <th class="value">Value</th>
      <th class="description">Description</th>
   </tr>
<tr>
   <td>display</td>
   <td><i>i=block/switch</i></td>
   <td></td>
</tr>
</table>
<h3 class="subtitle">Gates:</h3>
<table class="gatestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Direction</th>
      <th class="gatesize">Size</th>
      <th class="description">Description</th>
   </tr>
<tr class="local">
   <td>netwIn [ ]</xsl:if></td>
   <td><i>input</i></td>
   <td></td>   <td></td>
</tr>
<tr class="local">
   <td>netwOut [ ]</xsl:if></td>
   <td><i>output</i></td>
   <td></td>   <td></td>
</tr>
<tr class="local">
   <td>ifIn [ ]</xsl:if></td>
   <td><i>input</i></td>
   <td></td>   <td></td>
</tr>
<tr class="local">
   <td>ifOut [ ]</xsl:if></td>
   <td><i>output</i></td>
   <td></td>   <td></td>
</tr>
</table>
<h3 class="subtitle">Source code:</h3>
<pre class="src"><span style="color: #808080; font-style: italic; ">//
// Implements the \MPLS protocol.
//
// MPLS module is added between layer 2 and 3 in the OSI model for fast packet
// switching. MPLS should be transparent to signalling protocols. Signalling
// protocol currently implemented in this simulation is \RSVP-TE.
//
// Operations
//
// MPLS packets are represented by the message class MPLSPacket.
// The local LIB (Label Information Base) is stored in a LIBTable module
// in the LSR.
//
// For most of the time, the MPLS module will do the label swapping and
// message forwarding. Upon receiving a labelled packet from another LSR, the
// MPLS first extract the incoming interface and incoming label pair, and then
// look up the local LIB table. If an outgoing label and an outgoing interface
// can be found, the module will perform appropriate label operations (PUSH,
// POP, SWAP) based on the &quot;outLabel&quot; vector containing label and operation
// pairs.
//
// Collaborations
//
// MPLS module is required to interact with L2 (Link Layer) and L3 (Network
// Layer) in the OSI model. In addition, it needs to obtain label information
// from the LIB component and label query result from the LDP module. Messages
// the model communicates with L2 and Network Layers are L2 packets (PPP,
// Frame Relay, ATM, Ethernet, etc.), and \IP native packets. Specifically,
// MPLS module encapsulates \IP packet and is encapsulated in L2 packet.
// Different L2 protocols may require different methods of encapsulation to
// inherit the L2's QoS. This implementation follows a generic approach; it
// assumes no information of QoS from the link layer.
//
</span><span style="color: #800000; font-weight: bold; ">simple</span><span style="color: #000000; "> </span><span style="color: #000000; ">MPLS</span><span style="color: #000000; ">
{
    </span><span style="color: #800000; font-weight: bold; ">parameters</span><span style="color: #000000; ">:
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #000000; "> </span><span style="color: #000000; ">classifier</span><span style="color: #000000; ">; </span><span style="color: #808080; font-style: italic; ">// a module which implements the IClassifier C++ interface
</span><span style="color: #000000; ">        </span><span style="color: #000000; font-weight: bold; ">@display</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;i=block/switch&quot;</span><span style="color: #000000; ">);
    </span><span style="color: #800000; font-weight: bold; ">gates</span><span style="color: #000000; ">:
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #000000; "> </span><span style="color: #000000; ">netwIn</span><span style="color: #000000; ">[] </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">IPDatagram</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #000000; "> </span><span style="color: #000000; ">netwOut</span><span style="color: #000000; ">[] </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">IPDatagram</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #000000; "> </span><span style="color: #000000; ">ifIn</span><span style="color: #000000; ">[] </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">MPLSPacket</span><span style="color: #000000; ">,</span><span style="color: #000000; ">IPDatagram</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #000000; "> </span><span style="color: #000000; ">ifOut</span><span style="color: #000000; ">[] </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">MPLSPacket</span><span style="color: #000000; ">,</span><span style="color: #000000; ">IPDatagram</span><span style="color: #000000; ">);
}
</span></pre>
   </body>
</html>
